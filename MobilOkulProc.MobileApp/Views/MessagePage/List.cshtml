@using MobilOkulProc.Entities.Concrete
@using MobilOkulProc.MobileApp.Models
@using X.PagedList.Mvc.Core;
@using X.PagedList;
@using X.PagedList.Mvc.Core.Fluent
@using Microsoft.AspNetCore.Http;
@model MessagePageModel<MESSAGE>

@{
    ViewData["Title"] = "List Message";
    if (ViewBag.Usertype == 1)
    {
        Layout = "~/Views/Shared/_Layout_Student.cshtml";
    }

    else if (ViewBag.Usertype == 3)
    {
        Layout = "~/Views/Shared/_Layout_Parent.cshtml";
    }
    else if (ViewBag.Usertype == 2)
    {
        Layout = "~/Views/Shared/_Layout_Teacher.cshtml";
    }
}

<body>
    @{int flag = 0; }
    <br />

    <div class="accordions">
        <div class="container-fluid">
            <div class="col-md-8 col-md-offset-2">
                <ul class="accordion">
                    @foreach (var item in Model.PagedList)
                    {
                        <li>
                            @if (item.SenderID == @ViewBag.ObjectID || item.ReceiveID == @ViewBag.ObjectID)
                            {
                                <a>

                                    @Html.DisplayFor(modelItem => item.Sender.NameSurname) ➤
                                    @Html.DisplayFor(modelItem => item.Receive.NameSurname)<h1> </h1>
                                    @Html.DisplayFor(modelItem => item.SendTime)
                                   
                                </a>
                                flag++;
                            }
                            <p>


                                @if (item.SenderID == @ViewBag.ObjectID || item.ReceiveID == @ViewBag.ObjectID)
                                {
                                    <b>@Html.DisplayNameFor(model => model.Mesajlar.Nesne.MessageTitle)</b>
                                    <br />
                                    @Html.DisplayFor(modelItem => item.MessageTitle)
                                    <br />

                                }

                                @if (item.SenderID == @ViewBag.ObjectID || item.ReceiveID == @ViewBag.ObjectID)
                                {
                                    <b>@Html.DisplayNameFor(model => model.Mesajlar.Nesne.MessageContent)</b>
                                    <br />
                                    @Html.DisplayFor(modelItem => item.MessageContent)
                                    <br />
                                }

                            </p>

                        </li>
                    }
                    <li>
                        @if (flag == 0)
                        {
                            <a>
                                <h4>You have no messages.</h4>
                            </a>
                        }
                    </li>
                </ul>
            </div>
        </div>

    </div>







    <div class="template-presentation">
        <div class="container">
            <div class="col-md-7 hidden-xs hidden-sm">
                <div class="left-image">
                    <img src="~/images/school.png" alt="">

                </div>
            </div>

            <div class="col-md-5 hidden-xs hidden-sm">
                <div class="right-content">
                    <h4>SCHOOL MANAGEMENT SYSTEM</h4>
                    <div class="author-image">
                        <img src="img/template-author.png" alt="">
                    </div>
                    <div class="blue-button">
                        @*<a href="#">View More</a>*@
                    </div>
                </div>
            </div>
            <div class="col-md-5 hidden-lg hidden-md">
                <div class="right-content">
                    <div class="author-image">
                        <img src="~/images/school.png" alt="">
                    </div>
                    <h4>SCHOOL MANAGEMENT SYSTEM</h4>
                    <div class="blue-button">
                        @*<a href="#">View More</a>*@
                    </div>
                </div>
            </div>
            <div class="col-md-7 hidden-lg hidden-md">
                <div class="left-image">
                    <img src="img/template-image.png" alt="">
                </div>
            </div>
        </div>
    </div>


</body>
